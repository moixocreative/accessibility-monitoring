{"level":"info","message":"Iniciando sistema de monitorização de acessibilidade UNTILE","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 12:55:18"}
{"level":"info","message":"Portfolio carregado com 3 sites","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 12:55:18"}
{"interval":"0 */6 * * *","level":"info","message":"Monitorização do portfolio iniciada","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 12:55:18"}
{"level":"info","message":"Iniciando auditoria completa do portfolio","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 12:55:18"}
{"level":"info","message":"[AUDIT] Auditoria iniciada para Welligence Website","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 12:55:18","url":"https://welligence.pt"}
{"level":"info","message":"Iniciando auditoria WCAG para: https://welligence.pt","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 12:55:18"}
{"cause":{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-61,"port":9222,"syscall":"connect"},"level":"error","message":"Erro ao executar Lighthouse: Failed to fetch browser webSocket URL from http://127.0.0.1:9222/json/version: fetch failed","service":"untile-accessibility-monitoring","stack":"TypeError: Failed to fetch browser webSocket URL from http://127.0.0.1:9222/json/version: fetch failed\n    at node:internal/deps/undici/undici:13510:13\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getWSEndpoint (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/node_modules/puppeteer-core/src/common/BrowserConnector.ts:96:20)\n    at async getConnectionTransport (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/node_modules/puppeteer-core/src/common/BrowserConnector.ts:80:27)\n    at async _connectToBrowser (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/node_modules/puppeteer-core/src/common/BrowserConnector.ts:35:5)\n    at async gatherFn (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/gather/navigation-runner.js:281:19)\n    at async Function.gather (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/runner.js:212:21)\n    at async navigationGather (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/gather/navigation-runner.js:304:21)\n    at async navigation (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/index.js:58:24)\n    at async WCAGValidator.runLighthouse (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/src/validation/wcag-validator.ts:90:22)","timestamp":"2025-08-04 12:55:18"}
{"level":"error","message":"Erro na auditoria de https://welligence.pt: Browser não inicializado","service":"untile-accessibility-monitoring","stack":"Error: Browser não inicializado\n    at WCAGValidator.runAxeCore (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/src/validation/wcag-validator.ts:129:13)\n    at WCAGValidator.auditSite (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/src/validation/wcag-validator.ts:49:36)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PortfolioMonitor.runPortfolioAudit (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/src/monitoring/portfolio-monitor.ts:100:29)\n    at async main (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/src/scripts/monitoring.ts:24:5)","timestamp":"2025-08-04 12:55:18"}
{"level":"error","message":"Erro na auditoria de Welligence Website: Browser não inicializado","service":"untile-accessibility-monitoring","stack":"Error: Browser não inicializado\n    at WCAGValidator.runAxeCore (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/src/validation/wcag-validator.ts:129:13)\n    at WCAGValidator.auditSite (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/src/validation/wcag-validator.ts:49:36)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PortfolioMonitor.runPortfolioAudit (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/src/monitoring/portfolio-monitor.ts:100:29)\n    at async main (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/src/scripts/monitoring.ts:24:5)","timestamp":"2025-08-04 12:55:18"}
{"id":"incident_1754308518979_p2g4wir1t","level":"warn","message":"[EMERGENCY] Incidente P1 criado","service":"untile-accessibility-monitoring","sites":["site_1"],"timestamp":"2025-08-04 12:55:18","title":"Falha na auditoria de Welligence Website","violations":0}
{"id":"incident_1754308518979_p2g4wir1t","level":"warn","message":"[EMERGENCY] INCIDENTE P1 ALTO DETETADO","service":"untile-accessibility-monitoring","slaDeadline":"2025-08-04T19:55:18.978Z","timestamp":"2025-08-04 12:55:18","title":"Falha na auditoria de Welligence Website"}
{"code":"EAUTH","command":"AUTH PLAIN","level":"error","message":"Erro ao enviar alerta de emergência: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials ffacd0b85a97d-3b79c46ee84sm15025240f8f.57 - gsmtp","response":"535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials ffacd0b85a97d-3b79c46ee84sm15025240f8f.57 - gsmtp","responseCode":535,"service":"untile-accessibility-monitoring","stack":"Error: Invalid login: 535-5.7.8 Username and Password not accepted. For more information, go to\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials ffacd0b85a97d-3b79c46ee84sm15025240f8f.57 - gsmtp\n    at SMTPConnection._formatError (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/nodemailer/lib/smtp-connection/index.js:809:19)\n    at SMTPConnection._actionAUTHComplete (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/nodemailer/lib/smtp-connection/index.js:1588:34)\n    at SMTPConnection.<anonymous> (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/nodemailer/lib/smtp-connection/index.js:556:26)\n    at SMTPConnection._processResponse (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/nodemailer/lib/smtp-connection/index.js:993:20)\n    at SMTPConnection._onData (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/nodemailer/lib/smtp-connection/index.js:774:14)\n    at TLSSocket.SMTPConnection._onSocketData (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/nodemailer/lib/smtp-connection/index.js:195:44)\n    at TLSSocket.emit (node:events:524:28)\n    at TLSSocket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)","timestamp":"2025-08-04 12:55:19"}
{"level":"info","message":"Sistema de Resposta de Emergência UNTILE","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 12:55:21"}
{"level":"info","message":"Gerador de Relatórios UNTILE","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 12:55:23"}
{"level":"info","message":"Portfolio carregado com 3 sites","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 12:55:23"}
{"level":"info","message":"PortfolioMonitor cleanup concluído","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 12:55:23"}
{"level":"info","message":"Browser inicializado para auditoria WCAG","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 12:55:23"}
{"level":"info","message":"Iniciando validação WCAG 2.1 AA","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 14:29:01"}
{"level":"info","message":"Iniciando auditoria WCAG para: https://example.com","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 14:29:01"}
{"cause":{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-61,"port":9222,"syscall":"connect"},"level":"error","message":"Erro ao executar Lighthouse: Failed to fetch browser webSocket URL from http://127.0.0.1:9222/json/version: fetch failed","service":"untile-accessibility-monitoring","stack":"TypeError: Failed to fetch browser webSocket URL from http://127.0.0.1:9222/json/version: fetch failed\n    at node:internal/deps/undici/undici:13510:13\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getWSEndpoint (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/node_modules/puppeteer-core/src/common/BrowserConnector.ts:96:20)\n    at async getConnectionTransport (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/node_modules/puppeteer-core/src/common/BrowserConnector.ts:80:27)\n    at async _connectToBrowser (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/node_modules/puppeteer-core/src/common/BrowserConnector.ts:35:5)\n    at async gatherFn (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/gather/navigation-runner.js:281:19)\n    at async Function.gather (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/runner.js:212:21)\n    at async navigationGather (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/gather/navigation-runner.js:304:21)\n    at async navigation (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/index.js:58:24)\n    at async WCAGValidator.runLighthouse (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/src/validation/wcag-validator.ts:97:22)","timestamp":"2025-08-04 14:29:02"}
{"level":"info","message":"Iniciando validação WCAG 2.1 AA","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 14:29:21"}
{"level":"info","message":"Iniciando auditoria WCAG para: https://example.com","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 14:29:21"}
{"cause":{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-61,"port":9222,"syscall":"connect"},"level":"error","message":"Erro ao executar Lighthouse: Failed to fetch browser webSocket URL from http://127.0.0.1:9222/json/version: fetch failed","service":"untile-accessibility-monitoring","stack":"TypeError: Failed to fetch browser webSocket URL from http://127.0.0.1:9222/json/version: fetch failed\n    at node:internal/deps/undici/undici:13510:13\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async getWSEndpoint (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/node_modules/puppeteer-core/src/common/BrowserConnector.ts:96:20)\n    at async getConnectionTransport (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/node_modules/puppeteer-core/src/common/BrowserConnector.ts:80:27)\n    at async _connectToBrowser (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/node_modules/puppeteer-core/src/common/BrowserConnector.ts:35:5)\n    at async gatherFn (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/gather/navigation-runner.js:281:19)\n    at async Function.gather (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/runner.js:212:21)\n    at async navigationGather (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/gather/navigation-runner.js:304:21)\n    at async navigation (file:///Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/node_modules/lighthouse/core/index.js:58:24)\n    at async WCAGValidator.runLighthouse (/Users/mauriciopereira/Documents/_untile/untile-accessibility-monitoring/src/validation/wcag-validator.ts:97:22)","timestamp":"2025-08-04 14:29:21"}
{"level":"info","message":"Iniciando validação WCAG 2.1 AA","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 14:31:58"}
{"level":"info","message":"Iniciando auditoria WCAG para: https://example.com","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 14:31:58"}
{"level":"error","message":"Erro ao inicializar browser: socket hang up","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 14:31:59"}
{"level":"info","message":"Iniciando validação WCAG 2.1 AA","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 14:33:17"}
{"level":"info","message":"Validação WCAG concluída","service":"untile-accessibility-monitoring","timestamp":"2025-08-04 14:33:17"}
